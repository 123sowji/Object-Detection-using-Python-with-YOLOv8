def caesar_cipher(text, key, mode='encrypt'):
    result = ""
    shift = key if mode == 'encrypt' else -key
    
    for char in text:
        if char.isalpha():
            shift_base = ord('A') if char.isupper() else ord('a')
            result += chr((ord(char) - shift_base + shift) % 26 + shift_base)
        else:
            result += char
    return result

def vigenere_cipher(text, key, mode='encrypt'):
    result = []
    key = key.lower()
    key_length = len(key)
    
    for i, char in enumerate(text):
        if char.isalpha():
            shift = ord(key[i % key_length]) - ord('a')
            shift = shift if mode == 'encrypt' else -shift
            shift_base = ord('A') if char.isupper() else ord('a')
            result.append(chr((ord(char) - shift_base + shift) % 26 + shift_base))
        else:
            result.append(char)
    
    return "".join(result)

def main():
    print("Choose Cipher: 1. Caesar Cipher  2. Vigenère Cipher")
    choice = input("Enter your choice (1/2): ")

    if choice == '1':
        text = input("Enter the message: ")
        key = int(input("Enter the shift key (number): "))
        mode = input("Encrypt or Decrypt? (e/d): ").lower()
        mode = 'encrypt' if mode == 'e' else 'decrypt'
        print("Output:", caesar_cipher(text, key, mode))
    
    elif choice == '2':
        text = input("Enter the message: ")
        key = input("Enter the keyword: ")
        mode = input("Encrypt or Decrypt? (e/d): ").lower()
        mode = 'encrypt' if mode == 'e' else 'decrypt'
        print("Output:", vigenere_cipher(text, key, mode))

    else:
        print("Invalid choice! Please select 1 or 2.")

if __name__ == "__main__":
    main()
